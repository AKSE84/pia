<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>pia documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	      <link rel="stylesheet" href="../styles/style.css">
    </head>
    <body>

        <div class="navbar navbar-default navbar-fixed-top visible-xs">
            <a href="../" class="navbar-brand">pia documentation</a>
            <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search">
</div>
            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content injectable">
                   <div class="content-data">







<ol class="breadcrumb">
  <li>Injectables</li>
  <li>PiaService</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="active">
            <a href="#info" role="tab" id="info-tab" data-toggle="tab" data-link="info">Info</a>
        </li>
        <li >
            <a href="#source" role="tab" id="source-tab" data-toggle="tab" data-link="source">Source</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="c-info">
        <p class="comment">
            <h3>File</h3>
        </p>
        <p class="comment">
            <code>src/app/services/pia.service.ts</code>
        </p>



            <section>
    <h3 id="index">Index</h3>
    <table class="table table-sm table-bordered index-table">
        <tbody>
                <tr>
                    <td class="col-md-4">
                        <h6><b>Properties</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#answer">answer</a>
                            </li>
                            <li>
                                <a href="#data">data</a>
                            </li>
                            <li>
                                <a href="#pia">pia</a>
                            </li>
                            <li>
                                <a href="#pias">pias</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Methods</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#abandonTreatment">abandonTreatment</a>
                            </li>
                            <li>
                                <a href="#calculPiaProgress">calculPiaProgress</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#calculProgress">calculProgress</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#cancelAllValidatedEvaluation">cancelAllValidatedEvaluation</a>
                            </li>
                            <li>
                                <a href="#duplicate">duplicate</a>
                            </li>
                            <li>
                                <a href="#export">export</a>
                            </li>
                            <li>
                                <a href="#exportData">exportData</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#getPIA">getPIA</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#import">import</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#importData">importData</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#importEvaluations">importEvaluations</a>
                            </li>
                            <li>
                                <a href="#removePIA">removePIA</a>
                            </li>
                        </ul>
                    </td>
                </tr>





        </tbody>
    </table>
</section>

            <section>
    <h3 id="constructor">Constructor</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
<code>constructor(_router: <a href="https://angular.io/api/router/Router" target="_blank">Router</a>, route: <a href="https://angular.io/api/router/ActivatedRoute" target="_blank">ActivatedRoute</a>, _appDataService: <a href="../injectables/AppDataService.html">AppDataService</a>, _modalsService: <a href="../injectables/ModalsService.html">ModalsService</a>, http: <a href="https://angular.io/api/http/Http" target="_blank">Http</a>)</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="23" class="link-to-prism">src/app/services/pia.service.ts:23</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                            <div>
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>_router</td>
                                                  
                                                        <td>
                                                                    <code><a href="https://angular.io/api/router/Router" target="_blank" >Router</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>route</td>
                                                  
                                                        <td>
                                                                    <code><a href="https://angular.io/api/router/ActivatedRoute" target="_blank" >ActivatedRoute</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>_appDataService</td>
                                                  
                                                        <td>
                                                                    <code><a href="../injectables/AppDataService.html" target="_self" >AppDataService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>_modalsService</td>
                                                  
                                                        <td>
                                                                    <code><a href="../injectables/ModalsService.html" target="_self" >ModalsService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>http</td>
                                                  
                                                        <td>
                                                                    <code><a href="https://angular.io/api/http/Http" target="_blank" >Http</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>

            <section>
    
        <h3 id="methods">
            Methods
        </h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="abandonTreatment"></a>
                        <span class="name">
                            <b>
                            abandonTreatment
                            </b>
                            <a href="#abandonTreatment"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
<code>abandonTreatment()</code>
                    </td>
                </tr>


                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="142" class="link-to-prism">src/app/services/pia.service.ts:142</a></div>
                            </td>
                        </tr>


                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>Allows an user to abandon a treatment (archive a PIA).</p>
</div>

                            <div class="io-description">
                                <b>Returns : </b>    <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="calculPiaProgress"></a>
                        <span class="name">
                            <b>
                            calculPiaProgress
                            </b>
                            <a href="#calculPiaProgress"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
<code>calculPiaProgress(pia: <a href="../classes/Pia.html">Pia</a>)</code>
                    </td>
                </tr>


                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="53" class="link-to-prism">src/app/services/pia.service.ts:53</a></div>
                            </td>
                        </tr>


                <tr>
                    <td class="col-md-4">

                            <div class="io-description">
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>pia</td>
                                                        <td>
                                                                    <code><a href="../classes/Pia.html" target="_self" >Pia</a></code>
                                                        </td>
                                                    
                                                    <td>
                                                            No
                                                    </td>
                                                    

                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                            <div>
                            </div>
                            <div class="io-description">
                                <b>Returns : </b>    <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                            </div>
                                <div class="io-description">
                                    
                                </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="calculProgress"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Async</span>
                            calculProgress
                            </b>
                            <a href="#calculProgress"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                            <span class="modifier-icon icon ion-ios-reset"></span>
                        <code>calculProgress()</code>
                    </td>
                </tr>


                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="47" class="link-to-prism">src/app/services/pia.service.ts:47</a></div>
                            </td>
                        </tr>


                <tr>
                    <td class="col-md-4">

                            <div class="io-description">
                                <b>Returns : </b>    <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="cancelAllValidatedEvaluation"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Async</span>
                            cancelAllValidatedEvaluation
                            </b>
                            <a href="#cancelAllValidatedEvaluation"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                            <span class="modifier-icon icon ion-ios-reset"></span>
                        <code>cancelAllValidatedEvaluation()</code>
                    </td>
                </tr>


                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="112" class="link-to-prism">src/app/services/pia.service.ts:112</a></div>
                            </td>
                        </tr>


                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>Cancel all validated evaluations.</p>
</div>

                            <div>
                            </div>
                            <div class="io-description">
                                <b>Returns : </b>    <code>{}</code>

                            </div>
                                <div class="io-description">
                                    
                                </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="duplicate"></a>
                        <span class="name">
                            <b>
                            duplicate
                            </b>
                            <a href="#duplicate"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
<code>duplicate(id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                    </td>
                </tr>


                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="155" class="link-to-prism">src/app/services/pia.service.ts:155</a></div>
                            </td>
                        </tr>


                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>Allow an user to duplicate a PIA.</p>
</div>

                            <div class="io-description">
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                                    <td>Description</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>id</td>
                                                        <td>
                                                                    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                                        </td>
                                                    
                                                    <td>
                                                            No
                                                    </td>
                                                    

                                                        <td>
                                                                <code><ul>
<li>The PIA id.</li>
</ul>
</code>
                                                        </td>
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                            <div>
                            </div>
                            <div class="io-description">
                                <b>Returns : </b>    <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                            </div>
                                <div class="io-description">
                                    
                                </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="export"></a>
                        <span class="name">
                            <b>
                            export
                            </b>
                            <a href="#export"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
<code>export(id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                    </td>
                </tr>


                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="384" class="link-to-prism">src/app/services/pia.service.ts:384</a></div>
                            </td>
                        </tr>


                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>Download the PIA exported.</p>
</div>

                            <div class="io-description">
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                                    <td>Description</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>id</td>
                                                        <td>
                                                                    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                                        </td>
                                                    
                                                    <td>
                                                            No
                                                    </td>
                                                    

                                                        <td>
                                                                <code><ul>
<li>The PIA id.</li>
</ul>
</code>
                                                        </td>
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                            <div>
                            </div>
                            <div class="io-description">
                                <b>Returns : </b>    <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                            </div>
                                <div class="io-description">
                                    
                                </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="exportData"></a>
                        <span class="name">
                            <b>
                            exportData
                            </b>
                            <a href="#exportData"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
<code>exportData(id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                    </td>
                </tr>


                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="167" class="link-to-prism">src/app/services/pia.service.ts:167</a></div>
                            </td>
                        </tr>


                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>Allow an user to export a PIA.</p>
</div>

                            <div class="io-description">
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                                    <td>Description</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>id</td>
                                                        <td>
                                                                    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                                        </td>
                                                    
                                                    <td>
                                                            No
                                                    </td>
                                                    

                                                        <td>
                                                                <code><ul>
<li>The PIA id.</li>
</ul>
</code>
                                                        </td>
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                            <div>
                            </div>
                            <div class="io-description">
                                <b>Returns : </b>    <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                            </div>
                                <div class="io-description">
                                    
                                </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="getPIA"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Async</span>
                            getPIA
                            </b>
                            <a href="#getPIA"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                            <span class="modifier-icon icon ion-ios-reset"></span>
                        <code>getPIA()</code>
                    </td>
                </tr>


                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="38" class="link-to-prism">src/app/services/pia.service.ts:38</a></div>
                            </td>
                        </tr>


                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>Get the PIA.</p>
</div>

                            <div>
                            </div>
                            <div class="io-description">
                                <b>Returns : </b>    <code>{}</code>

                            </div>
                                <div class="io-description">
                                    
                                </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="import"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Async</span>
                            import
                            </b>
                            <a href="#import"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                            <span class="modifier-icon icon ion-ios-reset"></span>
                        <code>import(file: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                    </td>
                </tr>


                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="403" class="link-to-prism">src/app/services/pia.service.ts:403</a></div>
                            </td>
                        </tr>


                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>Import the PIA from file.</p>
</div>

                            <div class="io-description">
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                                    <td>Description</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>file</td>
                                                        <td>
                                                                    <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                                        </td>
                                                    
                                                    <td>
                                                            No
                                                    </td>
                                                    

                                                        <td>
                                                                <code><ul>
<li>The exported PIA file.</li>
</ul>
</code>
                                                        </td>
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                            <div>
                            </div>
                            <div class="io-description">
                                <b>Returns : </b>    <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                            </div>
                                <div class="io-description">
                                    
                                </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="importData"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Async</span>
                            importData
                            </b>
                            <a href="#importData"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                            <span class="modifier-icon icon ion-ios-reset"></span>
                        <code>importData(data: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>, prefix: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, is_duplicate: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank">boolean</a>, is_example?: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank">boolean</a>)</code>
                    </td>
                </tr>


                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="215" class="link-to-prism">src/app/services/pia.service.ts:215</a></div>
                            </td>
                        </tr>


                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>Allow an user to import a PIA.</p>
</div>

                            <div class="io-description">
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                                    <td>Description</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>data</td>
                                                        <td>
                                                                    <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                                        </td>
                                                    
                                                    <td>
                                                            No
                                                    </td>
                                                    

                                                        <td>
                                                                <code><ul>
<li>Data PIA.</li>
</ul>
</code>
                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>prefix</td>
                                                        <td>
                                                                    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                                        </td>
                                                    
                                                    <td>
                                                            No
                                                    </td>
                                                    

                                                        <td>
                                                                <code><ul>
<li>A title prefix.</li>
</ul>
</code>
                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>is_duplicate</td>
                                                        <td>
                                                                    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>
                                                        </td>
                                                    
                                                    <td>
                                                            No
                                                    </td>
                                                    

                                                        <td>
                                                                <code><ul>
<li>Is a duplicate PIA?</li>
</ul>
</code>
                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>is_example</td>
                                                        <td>
                                                                    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>
                                                        </td>
                                                    
                                                    <td>
                                                            Yes
                                                    </td>
                                                    

                                                        <td>
                                                                <code><ul>
<li>Is the PIA example?</li>
</ul>
</code>
                                                        </td>
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                            <div>
                            </div>
                            <div class="io-description">
                                <b>Returns : </b>    <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                            </div>
                                <div class="io-description">
                                    
                                </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="importEvaluations"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Private</span>
                            importEvaluations
                            </b>
                            <a href="#importEvaluations"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                            <span class="modifier-icon icon ion-ios-reset"></span>
                        <code>importEvaluations(data: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>, pia_id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, is_duplicate: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank">boolean</a>, oldIdToNewId?: Array<any>)</code>
                    </td>
                </tr>


                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="344" class="link-to-prism">src/app/services/pia.service.ts:344</a></div>
                            </td>
                        </tr>


                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>Import all evaluations.</p>
</div>

                            <div class="io-description">
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                                    <td>Description</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>data</td>
                                                        <td>
                                                                    <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                                        </td>
                                                    
                                                    <td>
                                                            No
                                                    </td>
                                                    

                                                        <td>
                                                                <code><ul>
<li>Data PIA.</li>
</ul>
</code>
                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>pia_id</td>
                                                        <td>
                                                                    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                                        </td>
                                                    
                                                    <td>
                                                            No
                                                    </td>
                                                    

                                                        <td>
                                                                <code><ul>
<li>The PIA id.</li>
</ul>
</code>
                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>is_duplicate</td>
                                                        <td>
                                                                    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>
                                                        </td>
                                                    
                                                    <td>
                                                            No
                                                    </td>
                                                    

                                                        <td>
                                                                <code><ul>
<li>Is a duplicated PIA?</li>
</ul>
</code>
                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>oldIdToNewId</td>
                                                        <td>
                                                                    <code>Array&lt;any&gt;</code>
                                                        </td>
                                                    
                                                    <td>
                                                            Yes
                                                    </td>
                                                    

                                                        <td>
                                                                <code><ul>
<li>Array to generate new id for special item.</li>
</ul>
</code>
                                                        </td>
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                            <div>
                            </div>
                            <div class="io-description">
                                <b>Returns : </b>    <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                            </div>
                                <div class="io-description">
                                    
                                </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="removePIA"></a>
                        <span class="name">
                            <b>
                            removePIA
                            </b>
                            <a href="#removePIA"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
<code>removePIA()</code>
                    </td>
                </tr>


                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="89" class="link-to-prism">src/app/services/pia.service.ts:89</a></div>
                            </td>
                        </tr>


                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>Allows an user to remove a PIA.</p>
</div>

                            <div class="io-description">
                                <b>Returns : </b>    <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>

            <section>
    
        <h3 id="inputs">
            Properties
        </h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="answer"></a>
                        <span class="name">
                            <b>
                            answer
                            </b>
                            <a href="#answer"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <code>answer:     <code><a href="../classes/Answer.html" target="_self" >Answer</a></code>
</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code><a href="../classes/Answer.html" target="_self" >Answer</a></code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>new Answer()</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="22" class="link-to-prism">src/app/services/pia.service.ts:22</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="data"></a>
                        <span class="name">
                            <b>
                            data
                            </b>
                            <a href="#data"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <code>data:     <code>literal type</code>
</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code>literal type</code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="23" class="link-to-prism">src/app/services/pia.service.ts:23</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="pia"></a>
                        <span class="name">
                            <b>
                            pia
                            </b>
                            <a href="#pia"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <code>pia:     <code><a href="../classes/Pia.html" target="_self" >Pia</a></code>
</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code><a href="../classes/Pia.html" target="_self" >Pia</a></code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>new Pia()</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="21" class="link-to-prism">src/app/services/pia.service.ts:21</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="pias"></a>
                        <span class="name">
                            <b>
                            pias
                            </b>
                            <a href="#pias"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <code>pias:     <code>[]</code>
</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code>[]</code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>[]</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="20" class="link-to-prism">src/app/services/pia.service.ts:20</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
</section>

    </div>


    <div class="tab-pane fade  tab-source-code" id="c-source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import { Injectable } from &#x27;@angular/core&#x27;;
import { ActivatedRoute, Router, Params } from &#x27;@angular/router&#x27;;
import { Http } from &#x27;@angular/http&#x27;;


import { Pia } from &#x27;app/entry/pia.model&#x27;;
import { Evaluation } from &#x27;app/entry/entry-content/evaluations/evaluation.model&#x27;;
import { Answer } from &#x27;app/entry/entry-content/questions/answer.model&#x27;;
import { Measure } from &#x27;app/entry/entry-content/measures/measure.model&#x27;;
import { Comment } from &#x27;app/entry/entry-content/comments/comment.model&#x27;;
import { Attachment } from &#x27;app/entry/attachments/attachment.model&#x27;;

import { AppDataService } from &#x27;app/services/app-data.service&#x27;;
import { ModalsService } from &#x27;app/modals/modals.service&#x27;;
import { ActionPlanService } from &#x27;app/entry/entry-content/action-plan//action-plan.service&#x27;;

@Injectable()
export class PiaService {

  pias &#x3D; [];
  pia: Pia &#x3D; new Pia();
  answer: Answer &#x3D; new Answer();
  data: { sections: any };

  constructor(private _router: Router, private route: ActivatedRoute,
              private _appDataService: AppDataService,
              private _modalsService: ModalsService, private http: Http) {
                this._appDataService.getDataNav().then((dataNav) &#x3D;&gt; {
                  this.data &#x3D; dataNav;
                });
              }

  /**
   * Get the PIA.
   * @return {Promise}
   * @memberof PiaService
   */
  async getPIA() {
    return new Promise((resolve, reject) &#x3D;&gt; {
      const piaId &#x3D; parseInt(this.route.snapshot.params[&#x27;id&#x27;], 10);
      this.pia.get(piaId).then(() &#x3D;&gt; {
        resolve();
      });
    });
  }

  async calculProgress() {
    this.pias.forEach((pia: Pia) &#x3D;&gt; {
      this.calculPiaProgress(pia);
    });
  }

  calculPiaProgress(pia: Pia) {
    let numberElementsToValidate &#x3D; 1;
    this.data.sections.forEach(section &#x3D;&gt; {
      section.items.forEach(item &#x3D;&gt; {
        if (item.questions) {
          numberElementsToValidate +&#x3D; item.questions.length;
        }
      });
    });
    const answer &#x3D; new Answer();
    let numberElementsValidated &#x3D; 0;
    answer.findAllByPia(pia.id).then((answers: any) &#x3D;&gt; {
      numberElementsValidated +&#x3D; answers.length;
      if (pia.status &gt; 1) {
        numberElementsValidated +&#x3D; 1;
      }
      const measure &#x3D; new Measure();
      measure.pia_id &#x3D; pia.id;
      measure.findAll().then((measures: any) &#x3D;&gt; {
        numberElementsToValidate +&#x3D; measures.length;
        numberElementsValidated +&#x3D; measures.length;
        // const evaluation &#x3D; new Evaluation();
        // evaluation.pia_id &#x3D; pia.id;
        // evaluation.findAll().then((evaluations: any) &#x3D;&gt; {
        //   numberElementsValidated +&#x3D; evaluations.length;
        //   numberElementsToValidate *&#x3D; 2;
          pia.progress &#x3D; Math.round((100 / numberElementsToValidate) * numberElementsValidated);
        // });
      });
    });
  }

  /**
   * Allows an user to remove a PIA.
   * @memberof PiaService
   */
  removePIA() {
    const piaID &#x3D; parseInt(localStorage.getItem(&#x27;pia-id&#x27;), 10);

    // Removes from DB.
    const pia &#x3D; new Pia();
    pia.delete(piaID);

    // Deletes the PIA from the view.
    if (localStorage.getItem(&#x27;homepageDisplayMode&#x27;) &amp;&amp; localStorage.getItem(&#x27;homepageDisplayMode&#x27;) &#x3D;&#x3D;&#x3D; &#x27;list&#x27;) {
      document.querySelector(&#x27;.app-list-item[data-id&#x3D;&quot;&#x27; + piaID + &#x27;&quot;]&#x27;).remove();
    } else {
      document.querySelector(&#x27;.pia-cardsBlock.pia[data-id&#x3D;&quot;&#x27; + piaID + &#x27;&quot;]&#x27;).remove();
    }

    localStorage.removeItem(&#x27;pia-id&#x27;);
    this._modalsService.closeModal();
  }

  /**
   * Cancel all validated evaluations.
   * @returns {Promise}
   * @memberof PiaService
   */
  async cancelAllValidatedEvaluation() {
    return new Promise((resolve, reject) &#x3D;&gt; {
      let count &#x3D; 0;
      let evaluation &#x3D; new Evaluation();
      evaluation.pia_id &#x3D; this.pia.id;
      evaluation.findAll().then((entries: any) &#x3D;&gt; {
        if (entries &amp;&amp; entries.length &gt; 0) {
          entries.forEach(element &#x3D;&gt; {
            evaluation &#x3D; new Evaluation();
            evaluation.get(element.id).then((entry: any) &#x3D;&gt; {
              entry.global_status &#x3D; 0;
              entry.update().then(() &#x3D;&gt; {
                count++;
                if (count &#x3D;&#x3D;&#x3D; entries.length) {
                  resolve();
                }
              });
            });
          });
        } else {
          resolve();
        }
      });
    });
  }

  /**
   * Allows an user to abandon a treatment (archive a PIA).
   * @memberof PiaService
   */
  abandonTreatment() {
    this.pia.status &#x3D; 4;
    this.pia.update().then(() &#x3D;&gt; {
      this._modalsService.closeModal();
      this._router.navigate([&#x27;home&#x27;]);
    });
  }

  /**
   * Allow an user to duplicate a PIA.
   * @param {number} id - The PIA id.
   * @memberof PiaService
   */
  duplicate(id: number) {
    this.exportData(id).then((data) &#x3D;&gt; {
      this.importData(data, &#x27;COPY&#x27;, true);
    });
  }

  /**
   * Allow an user to export a PIA.
   * @param {number} id - The PIA id.
   * @returns {Promise}
   * @memberof PiaService
   */
  exportData(id: number) {
    return new Promise((resolve, reject) &#x3D;&gt; {
      const pia &#x3D; new Pia();
      const answer &#x3D; new Answer();
      const measure &#x3D; new Measure();
      measure.pia_id &#x3D; id;
      const evaluation &#x3D; new Evaluation();
      evaluation.pia_id &#x3D; id;
      const comment &#x3D; new Comment();
      comment.pia_id &#x3D; id;
      // const attachment &#x3D; new Attachment();
      // attachment.pia_id &#x3D; id;
      pia.get(id).then(() &#x3D;&gt; {
        const data &#x3D; {
          pia: pia,
          answers: null,
          measures: null,
          evaluations: null,
          comments: null
        }
        answer.findAllByPia(id).then((answers) &#x3D;&gt; {
          data[&#x27;answers&#x27;] &#x3D; answers;
          measure.findAll().then((measures) &#x3D;&gt; {
            data[&#x27;measures&#x27;] &#x3D; measures;
            evaluation.findAll().then((evaluations) &#x3D;&gt; {
              data[&#x27;evaluations&#x27;] &#x3D; evaluations;
              comment.findAll().then((comments) &#x3D;&gt; {
                data[&#x27;comments&#x27;] &#x3D; comments;
                // attachment.findAll().then((attachments) &#x3D;&gt; {
                  // data[&#x27;attachments&#x27;] &#x3D; attachments;
                  resolve(data);
                // });
              });
            });
          });
        });
      });
    });
  }

  /**
   * Allow an user to import a PIA.
   * @param {*} data - Data PIA.
   * @param {string} prefix - A title prefix.
   * @param {boolean} is_duplicate - Is a duplicate PIA?
   * @param {boolean} [is_example] - Is the PIA example?
   * @memberof PiaService
   */
  async importData(data: any, prefix: string, is_duplicate: boolean, is_example?: boolean) {
    if (!(&#x27;pia&#x27; in data) || !(&#x27;dbVersion&#x27; in data.pia)) {
      this._modalsService.openModal(&#x27;import-wrong-pia-file&#x27;);
      return;
    }
    const pia &#x3D; new Pia();
    pia.name &#x3D; &#x27;(&#x27; + prefix + &#x27;) &#x27; + data.pia.name;
    pia.author_name &#x3D; data.pia.author_name;
    pia.evaluator_name &#x3D; data.pia.evaluator_name;
    pia.validator_name &#x3D; data.pia.validator_name;
    pia.dpo_status &#x3D; data.pia.dpo_status;
    pia.dpo_opinion &#x3D; data.pia.dpo_opinion;
    pia.concerned_people_opinion &#x3D; data.pia.concerned_people_opinion;
    pia.concerned_people_status &#x3D; data.pia.concerned_people_status;
    pia.concerned_people_searched_opinion &#x3D; data.pia.concerned_people_searched_opinion;
    pia.concerned_people_searched_content &#x3D; data.pia.concerned_people_searched_content;
    pia.rejected_reason &#x3D; data.pia.rejected_reason;
    pia.applied_adjustements &#x3D; data.pia.applied_adjustements;
    pia.created_at &#x3D; data.pia.created_at;
    pia.dpos_names &#x3D; data.pia.dpos_names;
    pia.people_names &#x3D; data.pia.people_names;
    /* Structure import if there is a specific one associated to this PIA */
    if (data.pia.structure_id) {
      pia.structure_id &#x3D; data.pia.structure_id;
      pia.structure_data &#x3D; data.pia.structure_data;
      pia.structure_name &#x3D; data.pia.structure_name;
      pia.structure_sector_name &#x3D; data.pia.structure_sector_name;

    }

    /* Set this PIA as the example PIA if needed, else default value affected on creation */
    if (is_example) {
      pia.is_example &#x3D; 1;
    }

    if (is_duplicate) {
      pia.status &#x3D; 0;
      pia.created_at &#x3D; new Date();
      pia.updated_at &#x3D; new Date();
      pia.dpos_names &#x3D; null;
      pia.dpo_status &#x3D; null;
      pia.dpo_opinion &#x3D; null;
      pia.concerned_people_searched_opinion &#x3D; null;
      pia.concerned_people_searched_content &#x3D; null;
      pia.people_names &#x3D; null;
      pia.concerned_people_status &#x3D; null;
      pia.concerned_people_opinion &#x3D; null;
    } else {
      pia.status &#x3D; parseInt(data.pia.status, 10);
      if (Number.isNaN(pia.status)) {
        pia.status &#x3D; 0;
      }
      pia.created_at &#x3D; new Date(data.pia.created_at);
      if (data.pia.updated_at) {
        pia.updated_at &#x3D; new Date(data.pia.updated_at);
      }
    }

    pia.create().then((pia_id: number) &#x3D;&gt; {
      pia.id &#x3D; pia_id;
      // Create answers
      data.answers.forEach(answer &#x3D;&gt; {
        const answerModel &#x3D; new Answer();
        answerModel.pia_id &#x3D; pia_id;
        answerModel.reference_to &#x3D; answer.reference_to;
        answerModel.data &#x3D; answer.data;
        answerModel.created_at &#x3D; new Date(answer.created_at);
        if (answer.updated_at) {
          answerModel.updated_at &#x3D; new Date(answer.updated_at);
        }
        answerModel.create();
      });

      if (data.measures.length &gt; 0) {
        let count &#x3D; 0;
        const oldIdToNewId &#x3D; [];
        // Create measures
        data.measures.forEach(measure &#x3D;&gt; {
          const measureModel &#x3D; new Measure();
          measureModel.title &#x3D; measure.title;
          measureModel.pia_id &#x3D; pia_id;
          measureModel.content &#x3D; measure.content;
          measureModel.placeholder &#x3D; measure.placeholder;
          measureModel.created_at &#x3D; new Date(measure.created_at);
          if (measure.updated_at) {
            measureModel.updated_at &#x3D; new Date(measure.updated_at);
          }
          measureModel.create().then((id: number) &#x3D;&gt; {
            count++;
            oldIdToNewId[measure.id] &#x3D; id;
            if (count &#x3D;&#x3D;&#x3D; data.measures.length) {
              this.importEvaluations(data, pia_id, is_duplicate, oldIdToNewId);
            }
          });
        });
      } else {
        this.importEvaluations(data, pia_id, is_duplicate);
      }

      if (!is_duplicate) {
        // Create comments
        data.comments.forEach(comment &#x3D;&gt; {
          const commentModel &#x3D; new Comment();
          commentModel.pia_id &#x3D; pia_id;
          commentModel.description &#x3D; comment.description;
          commentModel.reference_to &#x3D; comment.reference_to;
          commentModel.for_measure &#x3D; comment.for_measure;
          commentModel.created_at &#x3D; new Date(comment.created_at);
          if (comment.updated_at) {
            commentModel.updated_at &#x3D; new Date(comment.updated_at);
          }
          commentModel.create();
        });
      }

      this.pias.push(pia);
      this.calculPiaProgress(pia);
    });
  }

  /**
   * Import all evaluations.
   * @private
   * @param {*} data - Data PIA.
   * @param {number} pia_id - The PIA id.
   * @param {boolean} is_duplicate - Is a duplicated PIA?
   * @param {Array&lt;any&gt;} [oldIdToNewId] - Array to generate new id for special item.
   * @memberof PiaService
   */
  private importEvaluations(data: any, pia_id: number, is_duplicate: boolean, oldIdToNewId?: Array&lt;any&gt;) {
    if (!is_duplicate) {
      // Create evaluations
      data.evaluations.forEach(evaluation &#x3D;&gt; {
        const evaluationModel &#x3D; new Evaluation();
        evaluationModel.pia_id &#x3D; pia_id;
        evaluationModel.status &#x3D; evaluation.status;
        let reference_to &#x3D; evaluation.reference_to;
        if (reference_to.startsWith(&#x27;3.1&#x27;) &amp;&amp; oldIdToNewId) {
          const ref &#x3D; reference_to.split(&#x27;.&#x27;)
          if (oldIdToNewId[ref[2]]) {
            reference_to &#x3D; &#x27;3.1.&#x27; + oldIdToNewId[ref[2]];
          }
        }
        evaluationModel.reference_to &#x3D; reference_to;
        evaluationModel.action_plan_comment &#x3D; evaluation.action_plan_comment;
        evaluationModel.evaluation_comment &#x3D; evaluation.evaluation_comment;
        if (evaluation.evaluation_date) {
          evaluationModel.evaluation_date &#x3D; new Date(evaluation.evaluation_date);
        }
        evaluationModel.gauges &#x3D; evaluation.gauges;
        if (evaluation.estimated_implementation_date) {
          evaluationModel.estimated_implementation_date &#x3D; new Date(evaluation.estimated_implementation_date);
        }
        evaluationModel.person_in_charge &#x3D; evaluation.person_in_charge;
        evaluationModel.global_status &#x3D; evaluation.global_status;
        evaluationModel.created_at &#x3D; new Date(evaluation.created_at);
        if (evaluation.updated_at) {
          evaluationModel.updated_at &#x3D; new Date(evaluation.updated_at);
        }
        evaluationModel.create();
      });
    }
  }

  /**
   * Download the PIA exported.
   * @param {number} id - The PIA id.
   * @memberof PiaService
   */
  export(id: number) {
    const date &#x3D; new Date().getTime();
    this.exportData(id).then((data) &#x3D;&gt; {
      const a &#x3D; document.getElementById(&#x27;pia-exportBlock&#x27;);
      const url &#x3D; &#x27;data:text/json;charset&#x3D;utf-8,&#x27; + encodeURIComponent(JSON.stringify(data));
      a.setAttribute(&#x27;href&#x27;, url);
      a.setAttribute(&#x27;download&#x27;, date + &#x27;_export_pia_&#x27; + id + &#x27;.json&#x27;);
      const event &#x3D; new MouseEvent(&#x27;click&#x27;, {
        view: window
      });
      a.dispatchEvent(event);
    });
  }

  /**
   * Import the PIA from file.
   * @param {*} file - The exported PIA file.
   * @memberof PiaService
   */
  async import(file: any) {
    const reader &#x3D; new FileReader();
    reader.readAsText(file, &#x27;UTF-8&#x27;);
    reader.onload &#x3D; (event: any) &#x3D;&gt; {
      const jsonFile &#x3D; JSON.parse(event.target.result);
      this.importData(jsonFile, &#x27;IMPORT&#x27;, false);
    }
  }
}
</code></pre>
    </div>

</div>











                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> result-matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'injectable';
            var COMPODOC_CURRENT_PAGE_URL = 'PiaService.html';
       </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>
       <script src="../js/menu-wc.js"></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
